(function(e){function t(t){for(var a,s,c=t[0],i=t[1],l=t[2],u=0,b=[];u<c.length;u++)s=c[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&b.push(n[s][0]),n[s]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);d&&d(t);while(b.length)b.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,c=1;c<r.length;c++){var i=r[c];0!==n[i]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},n={app:0},o=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=i;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},2117:function(e,t,r){},2506:function(e,t,r){"use strict";r("cbdc")},4163:function(e,t,r){"use strict";r("2117")},4431:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("7a23");function n(e,t,r,n,o,s){var c=Object(a["m"])("preloader"),i=Object(a["m"])("home"),l=Object(a["m"])("credits");return Object(a["h"])(),Object(a["c"])("div",null,[Object(a["f"])(c),Object(a["f"])(i),Object(a["f"])(l)])}var o=Object(a["s"])("data-v-09d0b0b6");Object(a["j"])("data-v-09d0b0b6");var s=Object(a["e"])(" Created by "),c=Object(a["f"])("a",{href:"https://github.com/hitesh-coder"},"HITESH",-1),i=Object(a["e"])(" - Dev Challenges.io ");Object(a["i"])();var l=o((function(e,t,r,n,o,l){return Object(a["h"])(),Object(a["c"])("div",null,[s,c,i])})),d={name:"credits"};r("4163");d.render=l,d.__scopeId="data-v-09d0b0b6";var u=d,b=Object(a["s"])("data-v-deef02ec");Object(a["j"])("data-v-deef02ec");var f={class:"home"},m={class:"container mt-5 "},p={key:0,class:"error-box position-fixed",style:{"z-index":"10",top:"10%",right:"5%"}},h={class:"btn btn-danger btn-md shadow-lg"},j={class:"grid"},O={class:"\n                            hover\n                            d-flex\n                            flex-column\n                            justify-content-between\n                            position-absolute\n                            top-0\n                            p-3\n                        "},g={class:"lead text-white fw-bold"},v={class:"modal fade",id:"deletePhoto",tabindex:"-1","aria-labelledby":"deleteConformation","aria-hidden":"true"},y={class:"modal-dialog"},P={class:"modal-content"},w=Object(a["f"])("div",{class:"modal-header"},[Object(a["f"])("h5",{class:"modal-title",id:"photoForm"}," Are you sure? "),Object(a["f"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),C={class:"modal-body"},x={class:"mb-3"},U=Object(a["f"])("label",{for:"confirmPassword",class:"col-form-label"}," Confirm Password ",-1),R={class:"modal-footer"},k=Object(a["f"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1);Object(a["i"])();var I=b((function(e,t,r,n,o,s){var c=Object(a["m"])("Header");return Object(a["h"])(),Object(a["c"])("div",f,[Object(a["f"])(c),Object(a["f"])("div",m,[s.errorPresent?(Object(a["h"])(),Object(a["c"])("div",p,[Object(a["f"])("div",h,Object(a["n"])(s.error),1)])):Object(a["d"])("",!0),Object(a["f"])("div",j,[(Object(a["h"])(!0),Object(a["c"])(a["a"],null,Object(a["l"])(s.files,(function(e){return Object(a["r"])((Object(a["h"])(),Object(a["c"])("div",{key:e,class:"\n                        mb-4\n                        rounded-3\n                        border\n                        position-relative\n                        imageBox\n                    "},[Object(a["f"])("img",{src:e.imageURL,alt:e.imageURL,style:{"min-height":"150px"},class:"rounded-3"},null,8,["src","alt"]),Object(a["f"])("div",O,[Object(a["f"])("button",{type:"button",class:"btn btn-sm btn-danger align-self-end",style:{width:"fit-content"},"data-bs-toggle":"modal","data-bs-target":"#deletePhoto",onClick:function(t){return s.addImageCredentials(e)}}," Delete ",8,["onClick"]),Object(a["f"])("div",g,Object(a["n"])(e.label),1)])],512)),[[a["p"],""==s.searchByName||s.searchByName==e.label]])})),128))])]),Object(a["f"])("div",v,[Object(a["f"])("div",y,[Object(a["f"])("div",P,[w,Object(a["f"])("div",C,[Object(a["f"])("form",null,[Object(a["f"])("div",x,[U,Object(a["r"])(Object(a["f"])("input",{type:"text",class:"form-control",id:"confirmPassword",placeholder:"Please confirm your password","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.passwordForConfirmation=e})},null,512),[[a["o"],s.passwordForConfirmation]])])])]),Object(a["f"])("div",R,[k,Object(a["f"])("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:t[2]||(t[2]=function(){return s.deleteImage&&s.deleteImage.apply(s,arguments)})}," Delete ")])])])])])})),$=r("1da1"),L=(r("96cf"),r("9b19")),B=r.n(L),N={class:"header"},S={class:"navbar navbar-expand-lg navbar-light bg-light py-4"},_={class:"container"},F=Object(a["f"])("a",{class:"navbar-brand",href:"/"},[Object(a["f"])("img",{src:B.a,alt:""})],-1),T=Object(a["f"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(a["f"])("span",{class:"navbar-toggler-icon"})],-1),E={class:"collapse navbar-collapse",id:"navbarSupportedContent"},H={class:"d-flex mt-4 mb-2 my-lg-0"},A=Object(a["f"])("ul",{class:"navbar-nav ms-auto"},[Object(a["f"])("div",{class:"\n                                btn btn-success\n                                text-white\n                                fw-bolder\n                                shadow-sm\n                                lh-base\n                            ","data-bs-toggle":"modal","data-bs-target":"#addPhoto"}," Add a Photo ")],-1),V={class:"modal fade",id:"addPhoto",tabindex:"-1","aria-labelledby":"photoForm","aria-hidden":"true"},D={class:"modal-dialog"},M={class:"modal-content"},J=Object(a["f"])("div",{class:"modal-header"},[Object(a["f"])("h5",{class:"modal-title",id:"photoForm"}," Add a new photo "),Object(a["f"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Q={class:"modal-body"},Z={class:"mb-3"},z=Object(a["f"])("label",{for:"name",class:"col-form-label"}," Label ",-1),G={class:"mb-3"},X=Object(a["f"])("label",{for:"imageURL",class:"col-form-label"},"Photo URL",-1),q={class:"mb-3"},K=Object(a["f"])("label",{for:"userPassword",class:"col-form-label"},"Password",-1),W={class:"modal-footer"},Y=Object(a["f"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1);function ee(e,t,r,n,o,s){return Object(a["h"])(),Object(a["c"])("div",N,[Object(a["f"])("nav",S,[Object(a["f"])("div",_,[F,T,Object(a["f"])("div",E,[Object(a["f"])("form",H,[Object(a["r"])(Object(a["f"])("input",{class:"form-control",type:"search",placeholder:"Search by name","aria-label":"Search by name","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.searchByName=e})},null,512),[[a["o"],s.searchByName]])]),A])])]),Object(a["f"])("div",V,[Object(a["f"])("div",D,[Object(a["f"])("div",M,[J,Object(a["f"])("div",Q,[Object(a["f"])("form",null,[Object(a["f"])("div",Z,[z,Object(a["r"])(Object(a["f"])("input",{type:"text",class:"form-control",id:"name",placeholder:"Add a label for photo","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.label=e})},null,512),[[a["o"],s.label]])]),Object(a["f"])("div",G,[X,Object(a["r"])(Object(a["f"])("input",{type:"text",class:"form-control",id:"imageURL",placeholder:"https://images.unsplash.com/<your_image_url>","onUpdate:modelValue":t[3]||(t[3]=function(e){return s.imageURL=e})},null,512),[[a["o"],s.imageURL]])]),Object(a["f"])("div",q,[K,Object(a["r"])(Object(a["f"])("input",{type:"password",class:"form-control",id:"userPassword","onUpdate:modelValue":t[4]||(t[4]=function(e){return s.userPassword=e}),placeholder:"********"},null,512),[[a["o"],s.userPassword]])])])]),Object(a["f"])("div",W,[Y,null!==this.label&&""!==this.label&&""!==this.imageURL&&null!==this.imageURL?(Object(a["h"])(),Object(a["c"])("button",{key:0,type:"button",class:"btn btn-primary",onClick:t[5]||(t[5]=function(){return s.addPhoto&&s.addPhoto.apply(s,arguments)}),"data-bs-dismiss":"modal"}," Submit ")):Object(a["d"])("",!0)])])])])])}var te={name:"Header",computed:{label:{get:function(){return this.$store.state.photoCredentials.label},set:function(e){this.$store.commit("updateLabel",e)}},searchByName:{get:function(){return this.$store.state.searchByName},set:function(e){this.$store.commit("searchByName",e)}},userPassword:{get:function(){return this.$store.state.photoCredentials.userPassword},set:function(e){this.$store.commit("updateUserPassword",e)}},imageURL:{get:function(){return this.$store.state.photoCredentials.imageURL},set:function(e){this.$store.commit("updateImageURL",e)}}},methods:{addPhoto:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("addPhoto");case 2:e.$store.commit("resetCredentials"),e.$store.dispatch("getImages");case 4:case"end":return t.stop()}}),t)})))()}}};te.render=ee;var re=te,ae={name:"home",components:{Header:re},data:function(){return{imageCredentials:null}},computed:{files:function(){return this.$store.getters.files},searchByName:function(){return this.$store.getters.searchByName},errorPresent:function(){return this.$store.getters.errorPresent},error:function(){return this.$store.getters.error},passwordForConfirmation:{get:function(){return this.$store.state.passwordForConfirmation},set:function(e){this.$store.commit("updatePasswordForConfirmation",e)}}},created:function(){this.$store.dispatch("getImages")},methods:{addImageCredentials:function(e){this.imageCredentials=e},deleteImage:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.passwordForConfirmation!=e.imageCredentials.userPassword&&e.passwordForConfirmation!=e.imageCredentials.authorPassword){t.next=7;break}return t.next=3,e.$store.dispatch("deleteImage",e.imageCredentials._id);case 3:e.passwordForConfirmation="",e.$store.dispatch("getImages"),t.next=9;break;case 7:e.$store.commit("setError","Please enter a valid password"),console.log("wrongPass");case 9:case"end":return t.stop()}}),t)})))()}}};r("a3ad");ae.render=I,ae.__scopeId="data-v-deef02ec";var ne=ae,oe=Object(a["s"])("data-v-4c5ac741");Object(a["j"])("data-v-4c5ac741");var se={key:0,class:"preloader"},ce=Object(a["f"])("img",{src:"https://cdn.hackernoon.com/images/0*QdX-f4eHiimvQZoZ.gif",alt:""},null,-1);Object(a["i"])();var ie=oe((function(e,t,r,n,o,s){return o.isloaded?Object(a["d"])("",!0):(Object(a["h"])(),Object(a["c"])("div",se,[ce]))})),le={name:"preloader",data:function(){return{isloaded:!1}},mounted:function(){var e=this;document.onreadystatechange=function(){"complete"==document.readyState&&(e.isloaded=!0)}}};r("2506");le.render=ie,le.__scopeId="data-v-4c5ac741";var de=le,ue={name:"App",components:{Home:ne,Credits:u,Preloader:de}};r("ac05");ue.render=n;var be=ue,fe=r("5502"),me=r("d4ec"),pe=r("bee2"),he=(r("d3b7"),"/api/posts/"),je=function(){function e(){Object(me["a"])(this,e)}return Object(pe["a"])(e,null,[{key:"getPosts",value:function(){return new Promise(function(){var e=Object($["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(he,{method:"GET"}).then((function(e){return e.json()}));case 3:a=e.sent,t(a),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),r(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}())}},{key:"insertPost",value:function(e){fetch(he,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}},{key:"deletePost",value:function(e){return fetch("".concat(he).concat(e),{method:"DELETE"})}}]),e}(),Oe=je,ge=Object(fe["a"])({state:{photoCredentials:{label:"",imageURL:"",userPassword:""},files:[],error:null,passwordForConfirmation:"",searchByName:"",errorPresent:!1},mutations:{updateLabel:function(e,t){e.photoCredentials.label=t.toUpperCase()},updateUserPassword:function(e,t){e.photoCredentials.userPassword=t},updateImageURL:function(e,t){e.photoCredentials.imageURL=t},updatePasswordForConfirmation:function(e,t){e.passwordForConfirmation=t},searchByName:function(e,t){e.searchByName=t.toUpperCase()},getImages:function(e){return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Oe.getPosts();case 3:e.files=t.sent,t.next=11;break;case 6:t.prev=6,t.t0=t["catch"](0),e.error=t.t0.message,e.errorPresent=!0,setTimeout((function(){e.errorPresent=!1}),3e3);case 11:case"end":return t.stop()}}),t,null,[[0,6]])})))()},addPhoto:function(e){try{Oe.insertPost(e.photoCredentials)}catch(t){e.error=t.message,e.errorPresent=!0,setTimeout((function(){e.errorPresent=!1}),3e3)}},setError:function(e,t){e.error=t,e.errorPresent=!0,setTimeout((function(){e.errorPresent=!1}),3e3)},resetCredentials:function(e){e.photoCredentials.label="",e.photoCredentials.imageURL="",e.photoCredentials.userPassword=""},deleteImage:function(e,t){try{Oe.deletePost(t)}catch(r){e.error=r,e.errorPresent=!0,setTimeout((function(){e.errorPresent=!1}),3e3)}}},actions:{getImages:function(e){e.commit("getImages")},addPhoto:function(e){e.commit("addPhoto")},deleteImage:function(e,t){e.commit("deleteImage",t)}},modules:{},getters:{files:function(e){return e.files},searchByName:function(e){return e.searchByName},error:function(e){return e.error},errorPresent:function(e){return e.errorPresent}}});Object(a["b"])(be).use(ge).mount("#app")},"892b":function(e,t,r){},"9b19":function(e,t,r){e.exports=r.p+"img/logo.e948d53e.svg"},a3ad:function(e,t,r){"use strict";r("4431")},ac05:function(e,t,r){"use strict";r("892b")},cbdc:function(e,t,r){}});
//# sourceMappingURL=app.008eab15.js.map